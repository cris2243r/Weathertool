{"ast":null,"code":"import WeatherSummary from \"@/components/WeatherSummary\";\nexport default {\n  name: 'App',\n  components: {\n    WeatherSummary\n  },\n\n  data() {\n    return {\n      cities: [],\n      selectedCity: null,\n      weather: null,\n      units: 'metric',\n      query: null\n    };\n  },\n\n  methods: {\n    async refreshCities() {\n      console.log(\"refreshing cities\");\n      console.log(this.query); // Check if the query is empty before making the API request\n\n      if (this.query.trim() === \"\") {\n        this.cities = [];\n        return; // Exit the function if query is empty\n      }\n\n      const cityData = await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${this.query}&limit=5&appid=bf89e941da14d9a5e0a60764ed99bf4a`); // Handle the response status\n\n      if (cityData.ok) {\n        this.cities = await cityData.json();\n      } else {\n        console.error(\"Failed to fetch city data:\", cityData.status);\n      }\n    },\n\n    async refreshWeatherData() {\n      const url = `https://api.openweathermap.org/data/2.5/weather?lat=${this.selectedCity.lat}&lon=${this.selectedCity.lon}&appid=bf89e941da14d9a5e0a60764ed99bf4a&units=${this.units}`;\n      const weatherData = await fetch(url);\n      this.weather = await weatherData.json();\n      console.log(url);\n    },\n\n    setCity(city) {\n      this.selectedCity = city;\n      this.cities = [];\n    },\n\n    clearQuery() {\n      this.query = null;\n      this.setCity(null);\n    }\n\n  },\n  watch: {\n    selectedCity(newval) {\n      newval ? this.refreshWeatherData() : this.weather = null;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAwCA;AAEA;EACAA,WADA;EAEAC;IAAAC;EAAA,CAFA;;EAGAC;IACA;MACAC,UADA;MAEAC,kBAFA;MAGAC,aAHA;MAIAC,eAJA;MAKAC;IALA;EAOA,CAXA;;EAYAC;IAEA;MACAC;MACAA,wBAFA,CAIA;;MACA;QACA;QACA,OAFA,CAEA;MACA;;MAEA,6IAVA,CAYA;;MACA;QACA;MACA,CAFA,MAEA;QACAA;MACA;IACA,CApBA;;IAsBA;MACA,YACA,sKADA;MAEA;MACA;MACAA;IACA,CA5BA;;IA8BAC;MACA;MACA;IACA,CAjCA;;IAmCAC;MACA;MACA;IACA;;EAtCA,CAZA;EAsDAC;IACAR;MACAS;IACA;;EAHA;AAtDA","names":["name","components","WeatherSummary","data","cities","selectedCity","weather","units","query","methods","console","setCity","clearQuery","watch","newval"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<template>\n  <div id=\"app\"> \n    <header>\n    <h1>\n      WeatherTool\n    </h1>\n    <form>\n      <fieldset>\n        <label for=\"query\"> <h4>Select a city</h4></label>\n        <input id=\"query\" type=\"text\" autocomplete=\"off\" placeholder=\"Enter city....\" @keyup=\"refreshCities\" v-model=\"query\">\n      </fieldset>\n      <input\n          type=\"button\" @click=\"clearQuery\" value=\"X\">\n    </form>\n    <ul class=\"results\">\n      <li v-for=\"(city, idx) in cities\" :key=\"'part-' + idx\" @click=\"setCity(city)\">{{ city.name }}, {{ city.state }},\n        {{ city.country }}\n      </li>\n    </ul>\n    </header>\n   <!-- Wrap the following content within a transition -->\n   <transition name=\"slide\">\n      <div class=\"selected-city\" v-if=\"selectedCity\">\n        <h2>Current Weather for <strong>{{ selectedCity?.name }} {{ selectedCity?.state }} {{ selectedCity?.country }}</strong></h2>\n        <div>\n          <WeatherSummary :weather=\"weather\"/>\n        </div>\n      </div>\n    </transition>\n    <transition name=\"fade\">\n    <div class=\"empty\" v-if=\"!selectedCity\">\n      <span class=\"material-symbols-outlined\">cloud_off</span>\n      <h1>Search for a city to begin</h1>\n    </div>\n    </transition>\n  </div>\n</template>\n\n<script>\n\nimport WeatherSummary from \"@/components/WeatherSummary\";\n\nexport default {\n  name: 'App',\n  components: {WeatherSummary},\n  data() {\n    return {\n      cities: [],\n      selectedCity: null,\n      weather: null,\n      units: 'metric',\n      query: null,\n    }\n  },\n  methods: {\n\n    async refreshCities() {\n  console.log(\"refreshing cities\");\n  console.log(this.query);\n\n  // Check if the query is empty before making the API request\n  if (this.query.trim() === \"\") {\n    this.cities = [];\n    return; // Exit the function if query is empty\n  }\n\n  const cityData = await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${this.query}&limit=5&appid=bf89e941da14d9a5e0a60764ed99bf4a`)\n  \n  // Handle the response status\n  if (cityData.ok) {\n    this.cities = await cityData.json();\n  } else {\n    console.error(\"Failed to fetch city data:\", cityData.status);\n  }\n},\n\n    async refreshWeatherData() {\n      const url =\n          `https://api.openweathermap.org/data/2.5/weather?lat=${this.selectedCity.lat}&lon=${this.selectedCity.lon}&appid=bf89e941da14d9a5e0a60764ed99bf4a&units=${this.units}`\n      const weatherData = await fetch(url)\n      this.weather = await weatherData.json()\n      console.log(url)\n    },\n\n    setCity(city) {\n      this.selectedCity = city;\n      this.cities = []\n    },\n\n    clearQuery() {\n      this.query = null\n      this.setCity(null)\n    }\n\n\n  },\n  watch: {\n    selectedCity(newval) {\n      newval ? this.refreshWeatherData() : this.weather = null\n    }\n  },\n}\n</script>\n\n<style>\n#app {\n  font-family: Playfair, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #efefef;\n}\n\nbody {\n  margin: 0 0 0 0 ;\n  background-color: #000000;\n}\n\nheader {\n  background-color: #eae7dc;\n  color:rgb(0, 0, 0);\n  padding-top: 1em;\n  padding-bottom: 1em;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\nheader h1 {\n  font-size: 4.5em;\n  margin-bottom: 0.7em;\n  margin-top: 0.7em;\n}\n\n\nform {\n  text-align: left;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\nfieldset {\n  display: flex;\n  flex-direction: column;\n  border: none;\n}\n\nlabel {\n  padding-bottom: 0.7em;\n}\n\ninput::placeholder {\n  color: #cecece;\n}\n\n\ninput[type=text] {\n  padding-left: -0.6em;\n  width:100%;\n  height: 3.5em;\n  font-size: 1.6em;\n  font-weight: bold;\n  border-radius: 20px;\n  border-color:#f6767600;\n  outline: none;\n  \n}\n\ninput[type=button] {\n  background-color: transparent;\n  border: none;\n  color: rgb(0, 0, 0);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 50%;\n  font-weight: bold;\n  font-size: 2em;\n  margin-top: 2em;\n  margin-left: 30px;\n  outline: none;\n}\n/* Add CSS for better mobile appearance */\n@media only screen and (max-width: 768px) {\n  input[type=text] {\n    height: 3.5em;\n    font-size: 1.6em;\n  }\n}\n\ninput[type=button]:hover {\n  cursor: pointer;\n  color: #000000;\n}\n\nul {\n  margin-top: 1em;\n  list-style: none;\n}\n\nli {\n  padding-bottom: 0.2em;\n}\n@media only screen and (max-width: 768px) {\n  li {\n    font-size: 1.6em; \n  }\n}\n\nli:hover {\n  cursor: pointer;\n  font-weight: bold;\n}\n\n.empty {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 3em;\n  color: #ffffff;\n  font-size: 1.6em;\n  font-weight: bold;\n}\n\n.empty span{\n  font-size: 3em;\n}\n\n\nh1 {\n  margin-top: 0;\n  margin-bottom: 0;\n  text-align: left;\n  display: flex;\n}\n\n.lug h1 {\n    font-size: 1.8em;\n}\n.secondary[data-v-ec94e9cc] {\n    display: flex;\n    justify-content: flex-start;\n    font-size: 1.4em;\n}\n\nh2 {\n  margin-top: 1em;\n  margin-bottom: 1em;\n  font-size: 3em;\n  text-align: center;\n  color: rgb(255, 255, 255)\n}\n\nh4 {\n  text-align: center;\n  width: 100%;\n  font-size: 3em;\n}\n\n@media only screen and (max-width: 768px) {\n  .lug {\n    margin-bottom: 0.8em;\n    width: calc(100vw - 3.2em);\n  }\n}\n.slide-enter-active,\n.slide-leave-active {\n  transition: transform 0.5s ease-in-out;\n}\n\n.slide-enter,\n.slide-leave-to {\n  transform: translateX(-100%);\n  opacity: 0;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}